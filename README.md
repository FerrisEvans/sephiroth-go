# sephiroth-go

## /cmd

这个目录主要负责程序的启动、初始化、停止等功能，故主要包含项目的入口文件 main.go，如果一个项目有多个组件，则可以存放多个组件的 main.go

```
cmd
├── ctl
│   └── main.go
├── server
│   └── main.go
└── task
    └── main.go
```

不要在这个目录中放太多的代码，更不要放业务逻辑代码，保持整洁。

## /internal

存放项目的内部私有代码和库，不允许在项目外部使用。同时这也是 Go 在编译时强制执行的校验规则

在项目的目录树中的任意位置都可以有 internal 目录，而不仅仅是在顶级目录中。

在 /internal 内部可以增加额外的包结构来区分组件间共享和私有的内部代码：

```
internal
├── app
│   ├── ctl
│   ├── server
│   └── task
└── pkg
```

其中 /internal/app 下存放各个组件的逻辑代码，/internal/pkg 下存放各组件间的共享代码。

## /pkg

包含可导出的公共库，可以被其他项目引用。这意味着此目录下的代码可以被导入任何其他项目，被当作库程序来使用，所以将代码放到此目录前要慎重考虑，不要将私有代码放到此目录下。

https://travisjeffery.com/b/2019/11/i-ll-take-pkg-over-internal/
讲解了 pkg 和 internal 目录使用建议，你可以进一步了解学习。

## /configs

此目录存放配置文件模板或默认配置。

前文讲设计项目目录的基本原则时提到目录名最好使用单数形式，不过由于使用 configs 来存放配置已经是约定俗成的事实标准，故此目录名称可以打破这项设计原则。

